services:
  # Dev overrides for local hot-reload
  web:
    # Serve files straight from your host so edits show up on refresh
    volumes:
      - ./frontend:/usr/share/nginx/html:ro
      - ./frontend/nginx.conf:/etc/nginx/conf.d/default.conf:ro

  # Optional: backend auto-reload for API changes during dev
  backend:
    command: uvicorn backend.server:app --host 0.0.0.0 --port 8000 --reload --log-level info
    volumes:
      - ./backend:/app/backend
      - ./backend/category_keywords.json:/app/backend/category_keywords.json:ro
